---
/**
 * Footer Component
 * ================
 * Global site footer with optional CTA section
 */

import Icon from '@/components/ui/Icon.astro';
import Button from '@/components/ui/Button.astro';
import { business } from '@/data/site';

interface Props {
  class?: string;
  showCTA?: boolean;
}

const { class: className, showCTA = true } = Astro.props;

const currentYear = new Date().getFullYear();
---

<footer class:list={['bg-brand-black text-white', className]}>
  <!-- CTA Section (Optional) -->
  {showCTA && (
    <div class="bg-brand-orange py-12 lg:py-16">
      <div class="container">
        <div class="flex flex-col md:flex-row items-center justify-between gap-6 text-center md:text-left">
          <div>
            <h2 class="font-heading text-2xl md:text-3xl font-bold text-white mb-2">
              Ready to Restore Your Property?
            </h2>
            <p class="text-white/90 text-lg">
              24/7 emergency service with 60-minute response time
            </p>
          </div>
          <div class="flex flex-col sm:flex-row gap-4">
            <Button 
              href={`tel:${business.phone}`}
              variant="secondary"
              size="lg"
              class="bg-white text-brand-orange border-white hover:bg-brand-cream hover:text-brand-orange-700"
            >
              <Icon name="phone" size="md" />
              {business.phoneFormatted}
            </Button>
            <Button 
              href="/contact/"
              variant="outline"
              size="lg"
              class="border-white text-white hover:bg-white hover:text-brand-orange"
            >
              Request Service
            </Button>
          </div>
        </div>
      </div>
    </div>
  )}
  
  <!-- Main Footer -->
  <div class="py-12 lg:py-16">
    <div class="container">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-8">
        <!-- Company Info -->
        <div class="lg:col-span-1">
          <a href="/" class="inline-block mb-6">
            <img 
              src="/images/logo/tamarack-logo.webp" 
              alt="Tamarack Restoration" 
              class="h-14 w-auto"
              loading="lazy"
            />
          </a>
          <p class="text-brand-cream-400 text-sm mb-6 leading-relaxed">
            Professional emergency restoration services for water damage, fire damage, mold, and more. Serving North San Diego County 24/7.
          </p>
          <div class="flex items-center gap-2 text-brand-orange">
            <Icon name="award" size="sm" />
            <span class="text-sm font-medium">IICRC Certified</span>
          </div>
        </div>
        
        <!-- Services -->
        <div>
          <h3 class="font-heading font-bold text-white mb-4">Services</h3>
          <ul class="space-y-3">
            <li><a href="/services/water-damage-restoration/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Water Damage Restoration</a></li>
            <li><a href="/services/mold-removal/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Mold Removal</a></li>
            <li><a href="/services/fire-damage-restoration/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Fire Damage Restoration</a></li>
            <li><a href="/services/flood-cleanup/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Flood Cleanup</a></li>
            <li><a href="/services/sewage-cleanup/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Sewage Cleanup</a></li>
          </ul>
        </div>
        
        <!-- Service Areas -->
        <div>
          <h3 class="font-heading font-bold text-white mb-4">Service Areas</h3>
          <ul class="space-y-3">
            <li><a href="/service-area/carlsbad/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Carlsbad</a></li>
            <li><a href="/service-area/oceanside/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Oceanside</a></li>
            <li><a href="/service-area/vista/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Vista</a></li>
            <li><a href="/service-area/san-marcos/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">San Marcos</a></li>
            <li><a href="/service-area/encinitas/" class="text-brand-cream-400 hover:text-brand-orange transition-colors text-sm">Encinitas</a></li>
          </ul>
        </div>
        
        <!-- Contact Info -->
        <div>
          <h3 class="font-heading font-bold text-white mb-4">Quick Info</h3>
          <ul class="space-y-4">
            <li>
              <a href={`tel:${business.phone}`} class="flex items-start gap-3 text-brand-cream-400 hover:text-brand-orange transition-colors">
                <Icon name="phone" size="sm" class="mt-0.5 flex-shrink-0" />
                <span>
                  <span class="block text-sm font-medium text-white">{business.phoneFormatted}</span>
                  <span class="block text-xs">24/7 Emergency Line</span>
                </span>
              </a>
            </li>
            <li>
              <div class="flex items-start gap-3 text-brand-cream-400">
                <Icon name="map-pin" size="sm" class="mt-0.5 flex-shrink-0" />
                <span class="text-sm">
                  {business.address.street}<br />
                  {business.address.suite}<br />
                  {business.address.city}, {business.address.state} {business.address.zip}
                </span>
              </div>
            </li>
            <li>
              <div class="flex items-start gap-3 text-brand-cream-400">
                <Icon name="clock" size="sm" class="mt-0.5 flex-shrink-0" />
                <span class="text-sm">{business.hours}</span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Bottom Bar -->
  <div class="border-t border-white/10 py-6">
    <div class="container">
      <div class="flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-brand-cream-400">
        <p>&copy; {currentYear} {business.name}. All rights reserved.</p>
        <div class="flex items-center gap-6">
          <a href="/privacy-policy/" class="hover:text-brand-orange transition-colors">Privacy Policy</a>
          <a href="/terms-of-service/" class="hover:text-brand-orange transition-colors">Terms of Service</a>
        </div>
      </div>
    </div>
  </div>
</footer>
